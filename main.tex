% ==============================================================
% File     : main.tex
% Date     : 26 Nov. 2021
% Revision : 30 July 2022
% Creator  : Marco Peressutti
% ==============================================================

\documentclass[a4paper, 10pt, oneside]{book}
\usepackage[utf8]{inputenc}
 

\input{lib/includes} % usepackages
\input{lib/acronyms} % acromyms
\input{lib/commands} % newcommands

% title page
\title{145071 - Real time operating systems\\ and middleware}
\author{Marco Peressutti\\230403\\marco.peressutti@studenti.unitn.it}
\date{\today}

% chapters
\includeonly{
  chapters/00-IntroductionToTheCourse,
  chapters/01-BasicConcepts,
  chapters/02-PeriodicTaskScheduling,
  chapters/03-AperiodicServers,
  chapters/04-ResourceAccessProtocols,
  chapters/05-TheKernel,
  chapters/06-TimerAndClockLatency,
  chapters/07-TheNonPreemptableSectionLatency,
  chapters/0A-UlubRM,
  chapters/0B-UlubRM-PS,
  chapters/0C-UlubRM-DS,
  chapters/Posix
}

% bibliography resources
\addbibresource{bib/bibliografia.bib}
% path to images
\graphicspath{{images/}}
% load acronyms
\makeglossaries

\begin{document}

    \selectlanguage{english}
    
    \maketitle
    \printglossary[type=\acronymtype]
    
    %% frontmatter
    \frontmatter
    \setcounter{page}{1}
    \cleardoublepage

    \fancypagestyle{plain}{}
    \renewcommand{\chaptermark}[1]{ \markboth{#1}{}} 
    \tableofcontents
      \markboth{\contentsname}{}      
    \cleardoublepage

    %% mainmatter
    \mainmatter
  
    \include{chapters/00-IntroductionToTheCourse}
    % exam, lab sessions
    % resources
    % what does real time means
    % achieving predictability

    \include{chapters/01-BasicConcepts}
    % Types of task constaints
    % Real time systems and definitions
    % Definition of real time tasks and models
    % task criticality
    % Schedulability analysis

    \part{Real-Time Scheduling}
    \startcontents[parts]
    \printcontents[parts]{}{-1}{\setcounter{tocdepth}{5}}
    % how to schedule periodic tasks
    \include{chapters/02-PeriodicTaskScheduling}
    % Real time scheduling
    % Cyclic Executive Scheduling
    % Fixed Priority Scheduling
    %   RM - DM
    % Dynamic Priority Scheduling
    %   EDF
    
    % How to schedule aperiodic/sporadic tasks in parallel to periodic tasks using fixed priorities
    \include{chapters/03-AperiodicServers}
    % Background execution
    % Immediate execution
    % Polling server
    % Deferrable server
    % Sporadic Server
    % Constant Bandwidth servers
    % CBS + EDF

    \include{chapters/04-ResourceAccessProtocols}
    % Notion of atomicity
    % Critical sections
    % Interacting Tasks
    % Dealing with Priority inversion
    % NPP
    % HLP
    % Priority Inheritance Protocol
    \stopcontents[parts]
    
    \part{Operating System Structure}
    \startcontents[parts]
    \printcontents[parts]{}{-1}{\setcounter{tocdepth}{5}}
    \include{chapters/05-TheKernel}
    \include{chapters/06-TimerAndClockLatency}
    \include{chapters/07-TheNonPreemptableSectionLatency}
    \stopcontents[parts]

    
    \part{Additional information and proofs}
    \startcontents[parts]
    \printcontents[parts]{}{-1}{\setcounter{tocdepth}{5}}
    \appendix
    \include{chapters/0A-UlubRM}
    \include{chapters/0B-UlubRM-PS}
    \include{chapters/0C-UlubRM-DS}
    \include{chapters/Posix}
    \stopcontents[parts]
  

    
    %\clearpage
    %\chapter*{Bibliography}
    %\addcontentsline{toc}{chapter}{{Bibliography}}
    %\printbibliography[heading=bibempty]

\end{document}